<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nexus | Super Admin</title>
    <style>
        :root { --bg: #050505; --accent: #00A2FF; --panel: #0d0d0d; --border: rgba(255,255,255,0.1); }
        body { background: var(--bg); color: white; font-family: sans-serif; margin: 0; display: flex; height: 100vh; }
        .sidebar { width: 250px; background: var(--panel); padding: 20px; border-right: 1px solid var(--border); }
        .main { flex: 1; padding: 40px; overflow-y: auto; }
        .card { background: var(--panel); border: 1px solid var(--border); padding: 20px; border-radius: 12px; margin-bottom: 20px; }
        input, select { width: 100%; padding: 10px; margin: 10px 0; background: #000; border: 1px solid #333; color: #fff; border-radius: 5px; }
        .btn { background: var(--accent); color: #fff; border: none; padding: 10px; width: 100%; cursor: pointer; font-weight: bold; border-radius: 5px; }
        .item-row { display: flex; justify-content: space-between; background: #000; padding: 10px; margin-top: 5px; border-radius: 5px; font-size: 0.8rem; }
        .delete-btn { color: #ff4444; cursor: pointer; border: none; background: none; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>NEXUS OS</h2>
        <p style="font-size: 0.7rem; color: #555;">v3.0 GLOBAL CONTROL</p>
        <button class="btn" onclick="location.href='index.html'" style="background:#222;">VIEW SITE</button>
    </div>

    <div class="main">
        <div class="card">
            <h3>Manage Admin Access</h3>
            <div id="admin-list"></div>
            <input type="text" id="newAdminUser" placeholder="New Admin Username">
            <input type="password" id="newAdminPass" placeholder="New Admin Password">
            <button class="btn" onclick="addAdmin()">ADD ADMIN</button>
        </div>

        <div class="card">
            <h3>Manage Index Staff (Devs)</h3>
            <div id="staff-list"></div>
            <input type="text" id="sName" placeholder="Dev Name">
            <input type="text" id="sRole" placeholder="Role (e.g. UI Designer)">
            <input type="text" id="sImg" placeholder="PFP Path (images/name.png)">
            <button class="btn" onclick="addStaff()">ADD/UPDATE DEV</button>
        </div>

        <div class="card">
            <h3>Manage Gallery (Vids)</h3>
            <div id="gallery-list"></div>
            <input type="text" id="gTitle" placeholder="Project Title">
            <input type="text" id="gDesc" placeholder="Description">
            <input type="text" id="gVid" placeholder="Video Path (videos/vid.mp4)">
            <button class="btn" onclick="addGallery()">ADD TO GALLERY</button>
        </div>
    </div>

    <script>
        // Load data on start
        window.onload = () => { renderAll(); };

        function renderAll() {
            renderList('nexus_admins', 'admin-list', (a) => `${a.user}`);
            renderList('nexus_staff', 'staff-list', (s) => `${s.name} - ${s.role}`);
            renderList('nexus_gallery', 'gallery-list', (g) => `${g.title}`);
        }

        function renderList(key, elementId, labelFn) {
            const data = JSON.parse(localStorage.getItem(key)) || [];
            document.getElementById(elementId).innerHTML = data.map((item, i) => `
                <div class="item-row">
                    <span>${labelFn(item)}</span>
                    <button class="delete-btn" onclick="deleteItem('${key}', ${i})">REMOVE</button>
                </div>
            `).join('');
        }

        function deleteItem(key, index) {
            let data = JSON.parse(localStorage.getItem(key));
            data.splice(index, 1);
            localStorage.setItem(key, JSON.stringify(data));
            renderAll();
        }

        function addAdmin() {
            const user = document.getElementById('newAdminUser').value;
            const pass = document.getElementById('newAdminPass').value;
            if(!user || !pass) return;
            let admins = JSON.parse(localStorage.getItem('nexus_admins')) || [{user: "adiyan", pass: "nexus2026"}];
            admins.push({user, pass});
            localStorage.setItem('nexus_admins', JSON.stringify(admins));
            renderAll();
        }

        function addStaff() {
            const name = document.getElementById('sName').value;
            const role = document.getElementById('sRole').value;
            const img = document.getElementById('sImg').value;
            let staff = JSON.parse(localStorage.getItem('nexus_staff')) || [];
            staff.push({name, role, img});
            localStorage.setItem('nexus_staff', JSON.stringify(staff));
            renderAll();
        }

        function addGallery() {
            const title = document.getElementById('gTitle').value;
            const desc = document.getElementById('gDesc').value;
            const vid = document.getElementById('gVid').value;
            let gallery = JSON.parse(localStorage.getItem('nexus_gallery')) || [];
            gallery.push({title, desc, vid});
            localStorage.setItem('nexus_gallery', JSON.stringify(gallery));
            renderAll();
        }
    </script>
</body>
</html>
